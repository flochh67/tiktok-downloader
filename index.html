<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Downloader Sederhana</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .card-custom {
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            background: white;
        }
        .result-box { display: none; margin-top: 20px; }
        video { width: 100%; border-radius: 10px; }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card card-custom p-4">
                <h3 class="text-center mb-4 text-primary fw-bold">TikTok Downloader</h3>
                
                <div class="mb-3">
                    <label for="tiktokUrl" class="form-label">Tempel Link TikTok di sini:</label>
                    <input type="text" class="form-control" id="tiktokUrl" placeholder="https://www.tiktok.com/@user/video/..." required>
                </div>

                <button onclick="downloadVideo()" class="btn btn-primary w-100 py-2" id="btnDownload">
                    Download Video
                </button>

                <div id="resultArea" class="result-box text-center">
                    <hr>
                    <h5 id="videoTitle" class="mb-3">Judul Video</h5>
                    <div class="ratio ratio-16x9 mb-3">
                         <video id="videoPlayer" controls>
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <a id="downloadLink" href="#" class="btn btn-success" download target="_blank">Simpan Video (MP4)</a>
                </div>
                
                <p id="statusMsg" class="text-center mt-3 text-muted"></p>
            </div>
        </div>
    </div>
</div>

<script>
    async function downloadVideo() {
        const urlInput = document.getElementById('tiktokUrl').value;
        const statusMsg = document.getElementById('statusMsg');
        const resultArea = document.getElementById('resultArea');
        const btn = document.getElementById('btnDownload');

        if (!urlInput) {
            alert("Mohon masukkan link TikTok!");
            return;
        }

        // Tampilan Loading
        btn.disabled = true;
        btn.innerText = "Sedang memproses...";
        statusMsg.innerText = "Menghubungi server...";
        resultArea.style.display = 'none';

        // --- KONFIGURASI API ---
        // PENTING: Di sinilah Anda memasukkan logika API.
        // Karena GitHub Static, kita harus fetch ke layanan lain.
        // Contoh di bawah ini adalah PSEUDO-CODE untuk RapidAPI.
        
        const apiKey = 'MASUKKAN_API_KEY_RAPIDAPI_ANDA_DISINI'; 
        const apiHost = 'tiktok-downloader-download-tiktok-videos-without-watermark.p.rapidapi.com';
        const apiUrl = `https://${apiHost}/vid/index?url=${encodeURIComponent(urlInput)}`;

        try {
            // Uncomment baris di bawah jika Anda sudah punya API Key dari RapidAPI
            /*
            const response = await fetch(apiUrl, {
                method: 'GET',
                headers: {
                    'X-RapidAPI-Key': apiKey,
                    'X-RapidAPI-Host': apiHost
                }
            });
            */

            // --- SIMULASI (Agar codingan ini terlihat bekerja tanpa API Key asli) ---
            // Kita akan berpura-pura sukses setelah 2 detik
            await new Promise(r => setTimeout(r, 2000));
            
            // Anggaplah ini data yang didapat dari API
            const fakeData = {
                title: "Contoh Video TikTok",
                video_url: "https://www.w3schools.com/html/mov_bbb.mp4" // Video sampel
            };
            
            // --- END SIMULASI ---

            // Menampilkan Hasil (Gunakan data asli 'response' jika sudah ada API)
            document.getElementById('videoTitle').innerText = fakeData.title || "Video TikTok";
            document.getElementById('videoPlayer').src = fakeData.video_url;
            document.getElementById('downloadLink').href = fakeData.video_url;
            
            resultArea.style.display = 'block';
            statusMsg.innerText = "";

        } catch (error) {
            console.error(error);
            statusMsg.innerText = "Gagal mengambil video. Pastikan link benar atau API limit habis.";
        } finally {
            btn.disabled = false;
            btn.innerText = "Download Video";
        }
    }
</script>

</body>
</html>
